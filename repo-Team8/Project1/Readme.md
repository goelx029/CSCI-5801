# README FOR PROJECT 1 (Voting System)
## CSCI 5801 - Software Engineering

Project Prepared by __Team 8__

Team Members -

    1. Saksham Goel (goelx029)
    2. Abhishekh Sairavi (saira005)
    3. Kunal Munjal (munja004)

### Purpose:
The purpose of this README is to describe the Voting system that is being developed as a part of the class project for the class
CSCI 5801 - Software Engineering at University of Minnesota. The intended audience for the document includes the instructor of the
class, teaching assistants and fellow classmates. Also this README would be used to explain various parts of the project including
the directory structure of the Project1 repository, the various files used and their intention/work and also the various locations
these files are.

### Scope:
The Voting software is a tool that helps to determine the winners of an election when fed with the ballots in a CSV file.
This tool implements the vote counting mechanism on the ballots of a particular election and then prints out a small report specifying
the winner(s) and dropped (loser(s)) candidate(s) of the election. This tool is currently designed to handle two different types
of voting systems, which include Plurality Voting and Single Transferable Voting (STV) using the Droop Quota mechanism.
The goal of this software other than to specify which candidate or candidates are the winner, is also to provide a text file based
report (.txt) about the whole election.

### Overview:
The voting system would ask the user to log in his/her information and then select the appropriate voting algorithm with the
name of the input files and the number of seats that need to be filled in the election. The voting system will be printing the results
of the election to the standard output and then will redirect the user to the main menu again in case they want to get the results
of some different election (another input csv files). The voting software asks special questions related to the STV voting. These
features include to ask whether a user would like to turn off the default shuffling of ballots in the STV voting. Also the user can
specify whether they want the voting system to write a detailed report of what happened at each and every step so that the user
can track how the election was conducted out. The name of the report is always - Report.txt and is generated under the Project1 directory
(Project1/Report.txt).

### Directory Structure:
* #### Project1/
    * ##### src/
        > Contains all the source code files for the project. Also contains the files for the JUnit test cases. The files includes are:
        > * Ballot.java
        > * Candidate.java
        > * Main.java
        > * Menu.java
        > * PluralityBallot.java
        > * PluralityBallotTest.java
        > * PluralityCandidate.java
        > * PluralityCandidateTest.java
        > * PluralityVoteCounter.java
        > * PluralityVoteCounterTest.java
        > * STVBallot.java
        > * STVBallotTest.java
        > * STVCandidate.java
        > * STVCandidateTest.java
        > * STVVoteCounter.java
        > * STVVoteCounterTest.java
    * ##### testing/
        * ##### testingCSVFiles/
            > Contains various csv files that were used as part of the system testing for the software. The file names are descriptive of the number of ballots in the file and the number of candidates. There are some files that contain really large number of ballots(10,000 and 100,000 ballots) and candidates (100 Candidates) which were used to check the efficiency of the system.
        * ##### testingLogs/
            > Contains the test logs for the various tests that were done for the system or unit testing. The logs are stored in an .xlsx file and each sheet contains a different test log. It is advised that Microsoft Excel is used for viewing these logs for optimal format.
    * ##### misc/
        > Contains some files that were not directly used in the voting system. Currently two files reside in this directory as follows:
        > * CSVFileGenerator.py - a python file that was used to create all the various csv files for system testing.
        > * README - a README outlining the details of how to use the python file to generate the csv file.
    * ##### documentation/
        > Contains all the documentation related folders and files generated by the JavaDocs for the source code in src/ directory.
    * ##### Readme.md
        > This file. Is responsible to outline basic information about the project and how it should be used.
    * ##### buglist
        > Contains data about possible bugs that were found in the whole system.

### Running the Vote Counting System
To run the vote counting system users can use a terminal opened in the Project1/src/ directory. Then run the following two commands:

    > javac Main.java
    > java Main

Otherwise the vote counting system can be used by opening the project in an IDE (Integrated Development Environment) like IntelliJ or Eclipse.
When open, traverse to the src/ directory and then open Main.java in the IDE. The IDE will automatically highlight a play button in the
window which can be used to run the system. It is really important to keep in mind the current directory from which the program is being
executed because it will be responsible for changing the address of the files accordingly. Consider two cases:

  * Case 1 : Using terminal in the Project1/src/ directory and using the two calls as given above.
    > Need to make sure that the filename contains the relative path. If the file is in the src/ directory can directly provide the "filename.csv",
    if not then it is expected that the user provides the relative path for e.g. - "../testing/testingCSVFiles/filename.csv"

  * Case 2 : Using IDE open in the Project1/ directory.
    > Need to make sure that the filename contains the relative path. If the file is in the Project1/ directory can directly provide the "filename.csv",
    if not then it is expected that the user provides the relative path for e.g. - "./testing/testingCSVFiles/filename.csv"


### Expected Working of Vote Counting System
Assuming that the user is able to run the system as discussed in the previous section, the vote counting system will immediately print
a message to the standard output alerting the user that the system is running. It will ask the user about the relevant details related to the election which includes deatails like name of the user name, type of voting (Plurality or STV), and then prompt the user about various details about the file (election) like name of the file, number of seats that need to be filled, number of candidates in the election, nuber of ballots in the election. Once all the user input is processed the system will implement the voting algorithm and print the results of the election back to the standard output.

### Assumptions Made
Several assumptions have been made when designing the voting system and its is very important to review these for the users.
As mentioned in the class the system currently does no error checking on the input file, and assumes that the input csv files are error
free. In details the files will follows some guidelines as follows:
 * ##### Plurality
   * File will have all candidate names in first row (header)
   * All the ballots in the file will start immediately after the header.
   * No line is left as blank
   * Only one rating is given and that is always equal to "1" for each ballot cast in the election
   * Currently the CSV file should be error free
   * It is also assumed that the user input through the menu would be error free  
     * The number of candidates in file is equal to the number of candidates entered
     * The number of ballots in file is equal to the number of ballots in file
     * The number of seats that need to be filled is less than the number of candidates and greater than 0
     * The file name (relative path) is valid
     
 * ##### STV
   * File will have all candidate names in first row (header)
   * All the ballots in the file will start immediately after the header.
   * No line is left as blank
   * Every ballot will give ratings in such that all numbers have a definite order and no ranking is skipped (if 1 and 3 ranking are given then it is guranteed that 2 is also there)
   * Number of rankings in a ballot is greater than 0 and less than or equal to number of candidates in the election. 
   * Currently the CSV file should be error free
   * It is also assumed that the user input through the menu would be error free  
     * The number of candidates in file is equal to the number of candidates entered
     * The number of ballots in file is equal to the number of ballots in file
     * The number of seats that need to be filled is less than the number of candidates and greater than 0
     * The file name (relative path) is valid 
        
### Testing Project1 (Unit Test)
To run the unit tests for different parts of the vote counting system users can use a terminal opened in the Project1/src/ directory. Then run the following two commands:

    > javac TestName.java
    > java TestName

where TestName is the name of the UnitTest files in the Project1/src/ directory. The names of the unit test files are as follows:

  * PluralityBallotTest.java
  * PluralityCandidateTest.java
  * PluralityVoteCounterTest.java
  * STVBallotTest.java
  * STVCandidateTest.java
  * STVVoteCounterTest.java

Otherwise the unit tests for the vote counting system can be used by opening the Project1/src/ directory in an IDE (Integrated Development Environment) like IntelliJ or Eclipse.
When the directory is open in the IDE, open TestName.java file in the IDE. The IDE will automatically highlight a play button in the
window which can be used to run the all tests in the file. It is really important to keep in mind the current directory from which the program is being
executed because the file names in the test cases are hardcoded and thus the tests will fail if they are run in some other configuration.

### Note : Special Cases for STV Voting
Currently for the project it is assumed that the User input would be error free and all the pre processing of the
data is already done in the CSV file. However this does not stop the system from encountering a difficult situation
where the number of winner candidates are more then the number of candidates that can ever reach some droop quota.
The system currently is able to handle this kind of behavior where it might declare some candidates as winners in the
election for STV voting even if the total number of votes corresponding to them is less than the droop quota because
the number of candidates that need to be dropped have already been dropped from the election. 


# TODO:
 1. Change the file names so it goes parent directory.
 2. Tomorrow CSE LABS Machine System Testing 
 3. Make Sure Documentation is taken care of
 4. All tests are working
 5. Change the name of the report to Report.txt
 6. Menu feature is thoroughly tested.
 7. All changes are merged in the Master branch